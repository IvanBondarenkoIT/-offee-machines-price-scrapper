# üèóÔ∏è –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –ö–æ–Ω—Ü–µ–ø—Ü–∏—è: –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ + –û–±–ª–∞—á–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
1. **–ù–µ –Ω—É–∂–µ–Ω Chrome –Ω–∞ Railway** ‚Üí –¥–µ—à–µ–≤–ª–µ (Free Tier –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
2. **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞** ‚Üí –Ω–µ—Ç —Ç—è–∂–µ–ª—ã—Ö scrapers –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Üí –º–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ Railway
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí scrapers —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –≥–¥–µ –µ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1Ô∏è‚É£ **–õ–û–ö–ê–õ–¨–ù–ê–Ø –ß–ê–°–¢–¨** (–Ω–∞ –≤–∞—à–µ–º –ü–ö)

#### –§–∞–π–ª—ã:
- `run_full_cycle.py` - –∑–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `scrapers/*` - –≤—Å–µ scrapers (Selenium + BS4)
- `utils/price_compare.py` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω
- `utils/report_generator.py` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- `upload_to_railway.py` - **–ù–û–í–´–ô** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ Railway

#### –ü—Ä–æ—Ü–µ—Å—Å:
```
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ (data/inbox/–æ—Å—Ç–∞—Ç–∫–∏.xlsx)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥: python run_full_cycle.py
3. –ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç—ã –≤ data/output/
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ Railway: python upload_to_railway.py
```

---

### 2Ô∏è‚É£ **RAILWAY –ß–ê–°–¢–¨** (–æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)

#### –§–∞–π–ª—ã:
- `api_server_railway.py` - **–ù–û–í–´–ô** —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π API —Å–µ—Ä–≤–µ—Ä
- `Dockerfile.railway-simple` - **–ù–û–í–´–ô** –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Dockerfile
- `requirements.railway-simple.txt` - **–ù–û–í–´–ô** –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `data/output/*` - –≥–æ—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Git)

#### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `GET /` - –∫—Ä–∞—Å–∏–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- `GET /status` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /reports/list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤ (JSON)
- `GET /reports/latest/{type}` - —Å–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç—á–µ—Ç (excel/word/pdf)
- `GET /reports/download/{filename}` - —Å–∫–∞—á–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
- `GET /health` - health check –¥–ª—è Railway

#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤—Å–µ–≥–æ 3!):
```
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
```

**–ë–µ–∑:**
- ‚ùå Chrome / ChromeDriver
- ‚ùå Selenium
- ‚ùå BeautifulSoup4
- ‚ùå Pandas / Openpyxl (heavy!)

---

## üöÄ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –®–∞–≥ 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–Ω–∞ –ü–ö)
```bash
# 1. –ü–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª –æ—Å—Ç–∞—Ç–∫–æ–≤
copy "–ø—É—Ç—å\–∫\–æ—Å—Ç–∞—Ç–∫–∏.xlsx" "data\inbox\–æ—Å—Ç–∞—Ç–∫–∏.xlsx"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
python run_full_cycle.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–∞–π–ª—ã –≤ data/output/
# - price_comparison_YYYY-MM-DD.xlsx
# - price_report_YYYY-MM-DD.docx
# - price_report_YYYY-MM-DD.pdf
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Railway
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ Git
python upload_to_railway.py

# –°–∫—Ä–∏–ø—Ç:
# 1. –ù–∞–π–¥–µ—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã –≤ data/output/
# 2. –°–¥–µ–ª–∞–µ—Ç git commit
# 3. –°–¥–µ–ª–∞–µ—Ç git push
# 4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç—Å—è
```

### –®–∞–≥ 3: –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞ Railway
```
https://offee-machines-price-scrapper-production.up.railway.app/

üëÅÔ∏è –ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- –ö–Ω–æ–ø–∫–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ vs –ü–æ—Å–ª–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ (Hobby Plan) | –ü–æ—Å–ª–µ (Free Tier) |
|----------|----------------|-------------------|
| **–ü–∞–º—è—Ç—å** | 8 GB (–ø–ª–∞—Ç–Ω–æ) | 512 MB (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) |
| **Scrapers** | –ù–∞ Railway | –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö |
| **Chrome** | –í Docker | –ù–µ –Ω—É–∂–µ–Ω |
| **Build –≤—Ä–µ–º—è** | ~110 —Å–µ–∫ | ~15 —Å–µ–∫ |
| **Deploy –≤—Ä–µ–º—è** | –ú–æ–∂–µ—Ç –∫—Ä–∞—à–∏—Ç—å—Å—è | –°—Ç–∞–±–∏–ª—å–Ω–æ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | $5-20/–º–µ—Å | $0 |

---

## üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Railway

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: "üìä –û—Ç—á–µ—Ç—ã –ø–æ —Ü–µ–Ω–∞–º"
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: 
  - –í—Å–µ–≥–æ –æ—Ç—á–µ—Ç–æ–≤
  - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ—Ç—á–µ—Ç–∞
- **–°–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤**:
  - –ò–∫–æ–Ω–∫–∞ (üìä Excel, üìÑ Word, üìï PDF)
  - –ò–º—è —Ñ–∞–π–ª–∞
  - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
  - –†–∞–∑–º–µ—Ä
  - –ö–Ω–æ–ø–∫–∞ "‚¨á –°–∫–∞—á–∞—Ç—å"
- **–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏**:
  - –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π Excel
  - –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π Word
  - –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π PDF
  - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–∏–∑–∞–π–Ω:
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π gradient —Ñ–æ–Ω (purple-blue)
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ç–µ–Ω—è–º–∏
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
- Responsive (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
- –ö—Ä–∞—Å–∏–≤—ã–µ –∫–Ω–æ–ø–∫–∏

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Railway (–ø—É–±–ª–∏—á–Ω—ã–π):
- ‚úÖ –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –ù–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∞–º)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç directory traversal)
- ‚úÖ Non-root user –≤ Docker

### –õ–æ–∫–∞–ª—å–Ω—ã–π –ü–ö:
- ‚úÖ Scrapers —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å)
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç—ã –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

---

## üì¶ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –ü–µ—Ä–≤—ã–π —Ä–∞–∑:
```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å railway.json (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
git add api_server_railway.py Dockerfile.railway-simple requirements.railway-simple.txt railway.json
git commit -m "Add simplified Railway architecture - reports viewer only"
git push origin main

# 3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç—Å—è
```

### –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Railway:
1. **Dockerfile Path**: `Dockerfile.railway-simple`
2. **Start Command**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ railway.json
3. **Environment Variables**: 
   - `PORT` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç Railway
   - (–Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö –Ω–µ –Ω—É–∂–Ω–æ!)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Railway API –ª–æ–∫–∞–ª—å–Ω–æ
python -m uvicorn api_server_railway:app --reload --port 8080

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080
```

### –ù–∞ Railway:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl https://...railway.app/status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤
curl https://...railway.app/reports/list

# –°–∫–∞—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π Excel
curl -O https://...railway.app/reports/latest/excel
```

---

## üìù TODO Checklist

- [x] –°–æ–∑–¥–∞—Ç—å `api_server_railway.py`
- [x] –°–æ–∑–¥–∞—Ç—å `Dockerfile.railway-simple`
- [x] –°–æ–∑–¥–∞—Ç—å `requirements.railway-simple.txt`
- [x] –°–æ–∑–¥–∞—Ç—å `upload_to_railway.py`
- [x] –û–±–Ω–æ–≤–∏—Ç—å `railway.json`
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –æ—Ç—á–µ—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:**
1. –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ Railway
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã 24/7
4. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Free Tier –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
5. –ë—ã—Å—Ç—Ä–æ (–±–µ–∑ Chrome –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

