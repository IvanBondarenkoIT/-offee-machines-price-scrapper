# Быстрый старт

## Подготовка

1. **Активировать виртуальное окружение** (если еще не активировано):
```bash
# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

2. **Установить зависимости**:
```bash
pip install -r requirements.txt
```

## Запуск парсера ALTA

### Простой запуск
```bash
python main.py
```

### Прямой запуск скрапера
```bash
python scrapers/alta_selenium_scraper.py
```

## Что происходит при запуске?

1. ✅ Открывается Chrome браузер
2. ✅ Загружается страница https://alta.ge с фильтром по DeLonghi
3. ✅ Автоматически кликается кнопка "Load More" до загрузки всех 74 товаров
4. ✅ Извлекаются названия товаров и цены (обычные и со скидкой)
5. ✅ Данные сохраняются в Excel и CSV файлы в папке `data/output/`
6. ✅ Браузер закрывается

## Результаты

После успешного выполнения в папке `data/output/` появятся 2 файла:
- `alta_delonghi_prices_YYYYMMDD_HHMMSS.xlsx` - Excel файл
- `alta_delonghi_prices_YYYYMMDD_HHMMSS.csv` - CSV файл

## Структура данных

| Колонка | Описание |
|---------|----------|
| index | Номер товара (1-74) |
| name | Название товара DeLonghi |
| regular_price | Обычная цена (число) |
| regular_price_str | Обычная цена (текст из сайта) |
| discount_price | Цена со скидкой (число, если есть) |
| discount_price_str | Цена со скидкой (текст, если есть) |
| final_price | Итоговая цена для покупки |
| has_discount | Есть ли скидка (true/false) |
| scraped_at | Дата и время парсинга |
| url | URL страницы |

## Настройки

Основные настройки находятся в файле `config.py`:

- `SELENIUM_CONFIG["headless"]` - запуск без окна браузера (False = видимый браузер)
- `SELENIUM_CONFIG["implicit_wait"]` - время ожидания элементов (секунды)
- `SELENIUM_CONFIG["load_more_wait"]` - пауза после клика "Load More"
- `SELENIUM_CONFIG["max_load_more_attempts"]` - макс. попыток загрузки

## Возможные проблемы

### ChromeDriver не найден
**Решение**: Скрипт автоматически скачает нужную версию при первом запуске

### Защита от ботов
**Решение**: Скрипт использует настройки для обхода базовой защиты. Если не работает:
- Установите `SELENIUM_CONFIG["headless"] = False` в `config.py`
- Увеличьте паузы между действиями

### Не все товары загрузились
**Решение**: Увеличьте `max_load_more_attempts` в `config.py`

### Товары не находятся по XPath
**Решение**: Структура сайта могла измениться. Проверьте актуальные XPath в браузере (F12 -> Elements)

## Логи

Все логи сохраняются в файл `logs/scraper.log`

Для просмотра логов:
```bash
# Windows
type logs\scraper.log

# Linux/Mac
cat logs/scraper.log
```

## Следующие шаги

После успешного парсинга ALTA можно:
1. Адаптировать скрипт для ELITE
2. Адаптировать скрипт для KONTAKT
3. Создать скрипт сравнения цен между магазинами
4. Настроить автоматический запуск по расписанию

## Техническая поддержка

Если возникли проблемы:
1. Проверьте `logs/scraper.log`
2. Убедитесь, что все зависимости установлены
3. Проверьте, что сайт доступен
4. Попробуйте запустить с видимым браузером (headless=False)

